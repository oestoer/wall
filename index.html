<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description"
        content="Wall Line Calculator and Visualizer - Calculate and visualize wall line measurements easily">
    <title>Wall Line Calculator and Visualizer</title>

    <!-- External Stylesheets -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Web Components -->
    <script src="components/color-picker.js" defer></script>

    <!-- Main Application Script -->
    <script src="js/app.js" defer></script>
</head>

<body>
    <!-- Hamburger Menu Toggle Button -->
    <div class="hamburger-menu" id="hamburger-menu" aria-label="Open menu" role="button" tabindex="0">
        <div class="hamburger-icon" aria-hidden="true">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <!-- Side Menu Panel -->
    <div class="side-menu" id="side-menu" aria-hidden="true" aria-label="Settings menu">
        <div class="menu-section">
            <div class="menu-section-title">Appearance</div>
            <div class="theme-toggle menu-item">
                <label for="theme-select">Theme</label>
                <select id="theme-select">
                    <option value="auto">Auto (System)</option>
                    <option value="light">Light</option>
                    <option value="dark">Dark</option>
                </select>
            </div>
        </div>

        <div class="menu-section room-configs-section">
            <div class="menu-section-title">Room Configurations</div>
            <div class="room-input-group">
                <input type="text" id="room-name-input" class="room-input" placeholder="Room name" maxlength="10">
                <button id="save-room-btn" class="room-save-btn" title="Save">üíæ</button>
            </div>
            <div class="saved-rooms-list" id="saved-rooms-list">
                <div class="no-rooms-message">No saved rooms yet</div>
            </div>
            <div class="help-text" style="margin-top: 12px; text-align: center; padding-bottom: 8px;">
                Click on a room to load its configuration.<br>
                You can save up to 10 rooms.
            </div>
        </div>
    </div>

    <!-- Full screen overlay for mobile view -->
    <div class="menu-overlay" id="menu-overlay"></div>

    <div style="width: 100%; max-width: 1200px; margin-bottom: 1rem; text-align: center;">
        <h1>üè† Wall Line Calculator & Visualizer</h1>
    </div>

    <div class="calculator-grid">
        <!-- Controls Section -->
        <div class="calculator-controls container">
            <form id="wallForm" novalidate>
                <div class="form-errors">
                    <strong>Please fix the following errors:</strong>
                    <ul>
                        <li>All fields marked with * are required</li>
                        <li>Wall dimensions must be between 1 and 10000 cm</li>
                        <li>Line thickness must be between 1 and 200 cm</li>
                        <li>Line ratio must be between 0.5 and 5</li>
                        <li>Wardrobe/Window dimensions must be positive numbers</li>
                    </ul>
                </div>

                <div class="section">
                    <details open>
                        <summary>üìè Wall Dimensions</summary>
                        <div class="section-content">
                            <div class="input-row">
                                <div class="input-group">
                                    <label for="wallLength" class="required">Wall Length (cm):</label>
                                    <input type="number" id="wallLength" name="wallLength" value="485.6" min="1"
                                        max="10000" step="0.1" required>
                                    <div class="validation-message">Please enter a wall length between 1 and 10000 cm
                                    </div>
                                </div>
                                <div class="input-group">
                                    <label for="wallHeight" class="required">Wall Height (cm):</label>
                                    <input type="number" id="wallHeight" name="wallHeight" value="260" min="1"
                                        max="10000" step="0.1" required>
                                    <div class="validation-message">Please enter a wall height between 1 and 10000 cm
                                    </div>
                                </div>
                            </div>
                        </div>
                    </details>
                </div>

                <div class="section">
                    <details open>
                        <summary>üìê Line Configuration</summary>
                        <div class="section-content">
                            <div class="input-row">
                                <div class="input-group">
                                    <label for="minThickness" class="required">Min Line Thickness (cm):</label>
                                    <input type="number" id="minThickness" name="minThickness" value="20" min="1"
                                        max="200" step="0.1" required>
                                    <div class="validation-message">Please enter a minimum thickness between 1 and 200
                                        cm</div>
                                </div>
                                <div class="input-group">
                                    <label for="maxThickness" class="required">Max Line Thickness (cm):</label>
                                    <input type="number" id="maxThickness" name="maxThickness" value="45" min="1"
                                        max="200" step="0.1" required>
                                    <div class="validation-message">Please enter a maximum thickness between 1 and 200
                                        cm</div>
                                </div>
                            </div>

                            <div class="input-group">
                                <label for="lineRatio" class="required">Line Width Ratio (Coloured:White):</label>
                                <input type="number" id="lineRatio" name="lineRatio" value="1" min="0.5" max="5"
                                    step="0.5" required>
                                <div class="validation-message">Please enter a ratio between 0.5 and 5</div>
                                <div class="help-text">
                                    1 = equal widths, 0.5 = coloured half width of white, 2 = coloured twice width of
                                    white
                                </div>
                            </div>

                            <div class="input-group">
                                <label for="lineConfig" class="required">Desired Line Configuration:</label>
                                <select id="lineConfig" name="lineConfig" required>
                                    <option value="">Select a configuration</option>
                                </select>
                                <div class="validation-message">Please select a valid line configuration.</div>
                            </div>

                            <div class="input-group">
                                <label for="lineDirection">Line Direction:</label>
                                <select id="lineDirection" name="lineDirection">
                                    <option value="vertical">Vertical</option>
                                    <option value="horizontal">Horizontal</option>
                                </select>
                            </div>
                        </div>
                    </details>
                </div>

                <div class="section">
                    <details open>
                        <summary>üé® Colours</summary>
                        <div class="section-content">
                            <div class="input-row">
                                <div class="input-group">
                                    <color-picker id="mainColor" name="mainColor" value="#FFEEEE"
                                        label="Coloured Line:"></color-picker>
                                </div>
                                <div class="input-group">
                                    <color-picker id="whiteColor" name="whiteColor" value="#FFFFFF"
                                        label="White Line:"></color-picker>
                                </div>
                            </div>
                        </div>
                    </details>
                </div>

                <div class="section">
                    <details open>
                        <summary>üö™ Wardrobe/Door (Optional)</summary>
                        <div class="section-content">
                            <div class="checkbox-group">
                                <input type="checkbox" id="showWardrobe" name="showWardrobe">
                                <label for="showWardrobe">Show Wardrobe/Door</label>
                            </div>
                            <div id="wardrobeControls" class="collapsible-content">
                                <div class="input-row">
                                    <div class="input-group">
                                        <label for="wardrobeWidth">Wardrobe/Door Width (cm):</label>
                                        <input type="number" id="wardrobeWidth" name="wardrobeWidth" value="64" min="1"
                                            max="10000" step="0.1">
                                        <div class="validation-message">Please enter a width between 1 and 10000 cm
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <label for="wardrobeHeight">Wardrobe/Door Height (cm):</label>
                                        <input type="number" id="wardrobeHeight" name="wardrobeHeight" value="200"
                                            min="1" max="10000" step="0.1">
                                        <div class="validation-message">Please enter a height between 1 and 10000 cm
                                        </div>
                                    </div>
                                </div>

                                <div class="input-row">
                                    <div class="input-group">
                                        <label for="wardrobeOffset">Right Side Offset (cm):</label>
                                        <input type="number" id="wardrobeOffset" name="wardrobeOffset" value="0" min="0"
                                            max="10000" step="0.1">
                                        <div class="validation-message">Please enter a positive offset value</div>
                                        <div class="help-text">Distance from right wall edge (0 = aligned to right)
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <color-picker id="wardrobeColor" name="wardrobeColor" value="#8B4513"
                                            label="Wardrobe/Door Color:"></color-picker>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </details>
                </div>

                <div class="section">
                    <details open>
                        <summary>ü™ü Window (Optional)</summary>
                        <div class="section-content">
                            <div class="checkbox-group">
                                <input type="checkbox" id="showWindow" name="showWindow">
                                <label for="showWindow">Show Window</label>
                            </div>
                            <div id="windowControls" class="collapsible-content">
                                <div class="input-row">
                                    <div class="input-group">
                                        <label for="windowWidth">Window Width (cm):</label>
                                        <input type="number" id="windowWidth" name="windowWidth" value="120" min="1"
                                            max="10000" step="0.1">
                                        <div class="validation-message">Please enter a width between 1 and 10000 cm
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <label for="windowHeight">Window Height (cm):</label>
                                        <input type="number" id="windowHeight" name="windowHeight" value="120" min="1"
                                            max="10000" step="0.1">
                                        <div class="validation-message">Please enter a height between 1 and 10000 cm
                                        </div>
                                    </div>
                                </div>

                                <div class="input-row">
                                    <div class="input-group">
                                        <label for="windowRightOffset">Right Side Offset (cm):</label>
                                        <input type="number" id="windowRightOffset" name="windowRightOffset" value="100"
                                            min="0" max="10000" step="0.1">
                                        <div class="validation-message">Please enter a positive offset value</div>
                                        <div class="help-text">Distance from right wall edge</div>
                                    </div>
                                    <div class="input-group">
                                        <label for="windowFloorOffset">Floor Offset (cm):</label>
                                        <input type="number" id="windowFloorOffset" name="windowFloorOffset" value="100"
                                            min="0" max="10000" step="0.1">
                                        <div class="validation-message">Please enter a positive offset value</div>
                                        <div class="help-text">Distance from floor (0 = on floor)</div>
                                    </div>
                                </div>

                                <div class="input-row">
                                    <div class="input-group">
                                        <color-picker id="windowColor" name="windowColor" value="#87CEEB"
                                            label="Window Color:"></color-picker>
                                    </div>
                                    <div class="input-group">
                                        <!-- Empty space for alignment -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </details>
                </div>

                <div style="display: flex; gap: 12px; margin-top: 16px;">
                    <button type="submit" style="flex: 1;">üîç Calculate and Visualize</button>
                    <button type="button" onclick="resetToDefaults()"
                        style="flex: .3; background: linear-gradient(135deg, #6c757d 0%, #495057 100%); box-shadow: 0 4px 12px rgba(108,117,125,0.3);">üîÑ
                        Reset to Defaults</button>
                </div>
            </form>
        </div>

        <!-- Right Column: Contains both visualization and results -->
        <div class="calculator-right-column">
            <!-- Visualization Section -->
            <div class="calculator-visualization">
                <div id="wall-container" class="wall-container" data-height="medium">
                    <div id="wardrobe"></div>
                    <div id="window"></div>
                </div>
            </div>

            <!-- Results Section -->
            <div class="calculator-results">
                <div id="result" class="result-message"></div>
            </div>
        </div>
    </div>
</body>

</html>